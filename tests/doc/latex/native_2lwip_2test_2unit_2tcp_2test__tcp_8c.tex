\hypertarget{native_2lwip_2test_2unit_2tcp_2test__tcp_8c}{}\section{/home/ayush/\+R\+I\+O\+T/tests/lwip/bin/pkg/native/lwip/test/unit/tcp/test\+\_\+tcp.c File Reference}
\label{native_2lwip_2test_2unit_2tcp_2test__tcp_8c}\index{/home/ayush/\+R\+I\+O\+T/tests/lwip/bin/pkg/native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{/home/ayush/\+R\+I\+O\+T/tests/lwip/bin/pkg/native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}}
{\ttfamily \#include \char`\"{}test\+\_\+tcp.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}lwip/priv/tcp\+\_\+priv.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}lwip/stats.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}tcp\+\_\+helper.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}lwip/inet\+\_\+chksum.\+h\char`\"{}}\newline
Include dependency graph for test\+\_\+tcp.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{native_2lwip_2test_2unit_2tcp_2test__tcp_8c__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a6275f6cfaa9dfa1d388208198681bc62}{S\+E\+Q\+N\+O1}~(0x\+F\+F\+F\+F\+F\+F00 -\/ T\+C\+P\+\_\+\+M\+S\+S)
\item 
\#define \hyperlink{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a98592be2a323e1f460af8a99a09642a9}{I\+SS}~6510
\item 
\#define \hyperlink{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a6275f6cfaa9dfa1d388208198681bc62}{S\+E\+Q\+N\+O1}~(0x\+F\+F\+F\+F\+F\+F00 -\/ T\+C\+P\+\_\+\+M\+S\+S)
\item 
\#define \hyperlink{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a98592be2a323e1f460af8a99a09642a9}{I\+SS}~6510
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_aaccb6ac4b83bfb8a2d62faa857f68811}{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST} (test\+\_\+tcp\+\_\+new\+\_\+abort)
\item 
E\+N\+D\+\_\+\+T\+E\+ST \hyperlink{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a473c18820b30ed72ac3ffd91ecab2e8f}{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST} (test\+\_\+tcp\+\_\+recv\+\_\+inseq)
\item 
E\+N\+D\+\_\+\+T\+E\+ST \hyperlink{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a22b7d73dfb2feb77f981da6749639ce6}{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST} (test\+\_\+tcp\+\_\+malformed\+\_\+header)
\item 
E\+N\+D\+\_\+\+T\+E\+ST \hyperlink{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a1d7ed7e7a4d8e4063e482d6bacd3f72b}{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST} (test\+\_\+tcp\+\_\+fast\+\_\+retx\+\_\+recover)
\item 
\hyperlink{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_afb4165ff2b1a2cd57a1953b297b69fce}{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST} (test\+\_\+tcp\+\_\+fast\+\_\+rexmit\+\_\+wraparound)
\item 
E\+N\+D\+\_\+\+T\+E\+ST \hyperlink{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_adad15eb9e214d44e9beb95411757eb38}{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST} (test\+\_\+tcp\+\_\+rto\+\_\+rexmit\+\_\+wraparound)
\item 
\hyperlink{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_ad132fe5a1a52fe5f22e55fc28a616035}{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST} (test\+\_\+tcp\+\_\+tx\+\_\+full\+\_\+window\+\_\+lost\+\_\+from\+\_\+unsent)
\item 
E\+N\+D\+\_\+\+T\+E\+ST \hyperlink{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a58904929d194e111eab671fb7472b480}{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST} (test\+\_\+tcp\+\_\+tx\+\_\+full\+\_\+window\+\_\+lost\+\_\+from\+\_\+unacked)
\item 
E\+N\+D\+\_\+\+T\+E\+ST Suite $\ast$ \hyperlink{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_ab679db758522f8fafb4808dc4aae2e8d}{tcp\+\_\+suite} (void)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a98592be2a323e1f460af8a99a09642a9}\label{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a98592be2a323e1f460af8a99a09642a9}} 
\index{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}!I\+SS@{I\+SS}}
\index{I\+SS@{I\+SS}!native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}}
\subsubsection{\texorpdfstring{I\+SS}{ISS}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \#define I\+SS~6510}

\mbox{\Hypertarget{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a98592be2a323e1f460af8a99a09642a9}\label{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a98592be2a323e1f460af8a99a09642a9}} 
\index{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}!I\+SS@{I\+SS}}
\index{I\+SS@{I\+SS}!native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}}
\subsubsection{\texorpdfstring{I\+SS}{ISS}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \#define I\+SS~6510}

\mbox{\Hypertarget{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a6275f6cfaa9dfa1d388208198681bc62}\label{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a6275f6cfaa9dfa1d388208198681bc62}} 
\index{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}!S\+E\+Q\+N\+O1@{S\+E\+Q\+N\+O1}}
\index{S\+E\+Q\+N\+O1@{S\+E\+Q\+N\+O1}!native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}}
\subsubsection{\texorpdfstring{S\+E\+Q\+N\+O1}{SEQNO1}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \#define S\+E\+Q\+N\+O1~(0x\+F\+F\+F\+F\+F\+F00 -\/ T\+C\+P\+\_\+\+M\+S\+S)}

\mbox{\Hypertarget{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a6275f6cfaa9dfa1d388208198681bc62}\label{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a6275f6cfaa9dfa1d388208198681bc62}} 
\index{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}!S\+E\+Q\+N\+O1@{S\+E\+Q\+N\+O1}}
\index{S\+E\+Q\+N\+O1@{S\+E\+Q\+N\+O1}!native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}}
\subsubsection{\texorpdfstring{S\+E\+Q\+N\+O1}{SEQNO1}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \#define S\+E\+Q\+N\+O1~(0x\+F\+F\+F\+F\+F\+F00 -\/ T\+C\+P\+\_\+\+M\+S\+S)}



\subsection{Function Documentation}
\mbox{\Hypertarget{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_aaccb6ac4b83bfb8a2d62faa857f68811}\label{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_aaccb6ac4b83bfb8a2d62faa857f68811}} 
\index{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}!S\+T\+A\+R\+T\+\_\+\+T\+E\+ST@{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST}}
\index{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST@{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST}!native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}}
\subsubsection{\texorpdfstring{S\+T\+A\+R\+T\+\_\+\+T\+E\+S\+T()}{START\_TEST()}\hspace{0.1cm}{\footnotesize\ttfamily [1/8]}}
{\footnotesize\ttfamily S\+T\+A\+R\+T\+\_\+\+T\+E\+ST (\begin{DoxyParamCaption}\item[{test\+\_\+tcp\+\_\+new\+\_\+abort}]{ }\end{DoxyParamCaption})}

Call tcp\+\_\+new() and tcp\+\_\+abort() and test memp stats \mbox{\Hypertarget{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a473c18820b30ed72ac3ffd91ecab2e8f}\label{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a473c18820b30ed72ac3ffd91ecab2e8f}} 
\index{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}!S\+T\+A\+R\+T\+\_\+\+T\+E\+ST@{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST}}
\index{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST@{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST}!native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}}
\subsubsection{\texorpdfstring{S\+T\+A\+R\+T\+\_\+\+T\+E\+S\+T()}{START\_TEST()}\hspace{0.1cm}{\footnotesize\ttfamily [2/8]}}
{\footnotesize\ttfamily E\+N\+D\+\_\+\+T\+E\+ST S\+T\+A\+R\+T\+\_\+\+T\+E\+ST (\begin{DoxyParamCaption}\item[{test\+\_\+tcp\+\_\+recv\+\_\+inseq}]{ }\end{DoxyParamCaption})}

Create an E\+S\+T\+A\+B\+L\+I\+S\+H\+ED pcb and check if receive callback is called Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=335pt]{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a473c18820b30ed72ac3ffd91ecab2e8f_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a22b7d73dfb2feb77f981da6749639ce6}\label{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a22b7d73dfb2feb77f981da6749639ce6}} 
\index{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}!S\+T\+A\+R\+T\+\_\+\+T\+E\+ST@{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST}}
\index{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST@{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST}!native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}}
\subsubsection{\texorpdfstring{S\+T\+A\+R\+T\+\_\+\+T\+E\+S\+T()}{START\_TEST()}\hspace{0.1cm}{\footnotesize\ttfamily [3/8]}}
{\footnotesize\ttfamily E\+N\+D\+\_\+\+T\+E\+ST S\+T\+A\+R\+T\+\_\+\+T\+E\+ST (\begin{DoxyParamCaption}\item[{test\+\_\+tcp\+\_\+malformed\+\_\+header}]{ }\end{DoxyParamCaption})}

Check that we handle malformed tcp headers, and discard the \hyperlink{structpbuf}{pbuf(s)} Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=335pt]{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a22b7d73dfb2feb77f981da6749639ce6_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a1d7ed7e7a4d8e4063e482d6bacd3f72b}\label{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a1d7ed7e7a4d8e4063e482d6bacd3f72b}} 
\index{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}!S\+T\+A\+R\+T\+\_\+\+T\+E\+ST@{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST}}
\index{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST@{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST}!native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}}
\subsubsection{\texorpdfstring{S\+T\+A\+R\+T\+\_\+\+T\+E\+S\+T()}{START\_TEST()}\hspace{0.1cm}{\footnotesize\ttfamily [4/8]}}
{\footnotesize\ttfamily E\+N\+D\+\_\+\+T\+E\+ST S\+T\+A\+R\+T\+\_\+\+T\+E\+ST (\begin{DoxyParamCaption}\item[{test\+\_\+tcp\+\_\+fast\+\_\+retx\+\_\+recover}]{ }\end{DoxyParamCaption})}

Provoke fast retransmission by duplicate A\+C\+Ks and then recover by A\+C\+King all sent data. At the end, send more data. Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=335pt]{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a1d7ed7e7a4d8e4063e482d6bacd3f72b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_afb4165ff2b1a2cd57a1953b297b69fce}\label{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_afb4165ff2b1a2cd57a1953b297b69fce}} 
\index{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}!S\+T\+A\+R\+T\+\_\+\+T\+E\+ST@{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST}}
\index{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST@{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST}!native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}}
\subsubsection{\texorpdfstring{S\+T\+A\+R\+T\+\_\+\+T\+E\+S\+T()}{START\_TEST()}\hspace{0.1cm}{\footnotesize\ttfamily [5/8]}}
{\footnotesize\ttfamily S\+T\+A\+R\+T\+\_\+\+T\+E\+ST (\begin{DoxyParamCaption}\item[{test\+\_\+tcp\+\_\+fast\+\_\+rexmit\+\_\+wraparound}]{ }\end{DoxyParamCaption})}

Send data with sequence numbers that wrap around the u32\+\_\+t range. Then, provoke fast retransmission by duplicate A\+C\+Ks and check that all segment lists are still properly sorted. \mbox{\Hypertarget{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_adad15eb9e214d44e9beb95411757eb38}\label{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_adad15eb9e214d44e9beb95411757eb38}} 
\index{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}!S\+T\+A\+R\+T\+\_\+\+T\+E\+ST@{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST}}
\index{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST@{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST}!native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}}
\subsubsection{\texorpdfstring{S\+T\+A\+R\+T\+\_\+\+T\+E\+S\+T()}{START\_TEST()}\hspace{0.1cm}{\footnotesize\ttfamily [6/8]}}
{\footnotesize\ttfamily E\+N\+D\+\_\+\+T\+E\+ST S\+T\+A\+R\+T\+\_\+\+T\+E\+ST (\begin{DoxyParamCaption}\item[{test\+\_\+tcp\+\_\+rto\+\_\+rexmit\+\_\+wraparound}]{ }\end{DoxyParamCaption})}

Send data with sequence numbers that wrap around the u32\+\_\+t range. Then, provoke R\+TO retransmission and check that all segment lists are still properly sorted. \mbox{\Hypertarget{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_ad132fe5a1a52fe5f22e55fc28a616035}\label{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_ad132fe5a1a52fe5f22e55fc28a616035}} 
\index{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}!S\+T\+A\+R\+T\+\_\+\+T\+E\+ST@{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST}}
\index{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST@{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST}!native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}}
\subsubsection{\texorpdfstring{S\+T\+A\+R\+T\+\_\+\+T\+E\+S\+T()}{START\_TEST()}\hspace{0.1cm}{\footnotesize\ttfamily [7/8]}}
{\footnotesize\ttfamily S\+T\+A\+R\+T\+\_\+\+T\+E\+ST (\begin{DoxyParamCaption}\item[{test\+\_\+tcp\+\_\+tx\+\_\+full\+\_\+window\+\_\+lost\+\_\+from\+\_\+unsent}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a58904929d194e111eab671fb7472b480}\label{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_a58904929d194e111eab671fb7472b480}} 
\index{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}!S\+T\+A\+R\+T\+\_\+\+T\+E\+ST@{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST}}
\index{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST@{S\+T\+A\+R\+T\+\_\+\+T\+E\+ST}!native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}}
\subsubsection{\texorpdfstring{S\+T\+A\+R\+T\+\_\+\+T\+E\+S\+T()}{START\_TEST()}\hspace{0.1cm}{\footnotesize\ttfamily [8/8]}}
{\footnotesize\ttfamily E\+N\+D\+\_\+\+T\+E\+ST S\+T\+A\+R\+T\+\_\+\+T\+E\+ST (\begin{DoxyParamCaption}\item[{test\+\_\+tcp\+\_\+tx\+\_\+full\+\_\+window\+\_\+lost\+\_\+from\+\_\+unacked}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_ab679db758522f8fafb4808dc4aae2e8d}\label{native_2lwip_2test_2unit_2tcp_2test__tcp_8c_ab679db758522f8fafb4808dc4aae2e8d}} 
\index{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}!tcp\+\_\+suite@{tcp\+\_\+suite}}
\index{tcp\+\_\+suite@{tcp\+\_\+suite}!native/lwip/test/unit/tcp/test\+\_\+tcp.\+c@{native/lwip/test/unit/tcp/test\+\_\+tcp.\+c}}
\subsubsection{\texorpdfstring{tcp\+\_\+suite()}{tcp\_suite()}}
{\footnotesize\ttfamily E\+N\+D\+\_\+\+T\+E\+ST Suite$\ast$ tcp\+\_\+suite (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Create the suite including all tests for this module 