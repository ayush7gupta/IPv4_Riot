<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>lwip Structure: About</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">lwip Structure
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">About </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is a manual test application for the SX127X radio driver.</p>
<p>This test application uses the default pin configuration provided by the driver implementation and that matches the ST Nucleo 64 pins layout. It is best to use <a href="https://developer.mbed.org/components/SX1272MB2xAS/">SX1272</a> or <a href="https://developer.mbed.org/components/SX1276MB1xAS/">SX1276</a> mbed modules with nucleo boards or the all-in-one <a href="http://www.st.com/en/evaluation-tools/p-nucleo-lrwan1.html">ST P-NUCLEO-LRWAN1 LoRa kit</a>.</p>
<p>If you have other hardware (boards, Semtech based LoRa module), you can adapt the configuration to your needs by copying an adapted version of <code>drivers/sx127x/include/sx127x_params.h</code> file to your application directory.</p>
<p>By default the application builds the SX1276 version of the driver. If you want to use this application with a SX1272 module, set the variable <code>DRIVER</code> in the application [Makefile](Makefile): </p><div class="fragment"><div class="line">DRIVER = sx1272</div></div><!-- fragment --><p> instead of </p><div class="fragment"><div class="line">DRIVER = sx1276</div></div><!-- fragment --><p> You can also pass <code>DRIVER</code> when building the application: </p><div class="fragment"><div class="line">$ make BOARD=nucleo-l073 DRIVER=sx1272 -C tests/drivers_sx127x flash term</div></div><!-- fragment --><h2>Usage</h2>
<p>This test application provides low level shell commands to interact with the SX1272/SX1276 modules.</p>
<p>Once the board is flashed and you are connected via serial to the shell, use the <code>help</code> command to display the available commands: </p><div class="fragment"><div class="line">&gt; help</div><div class="line">help</div><div class="line">Command              Description</div><div class="line">---------------------------------------</div><div class="line">setup                Initialize LoRa modulation settings</div><div class="line">random               Get random number from sx127x</div><div class="line">channel              Get/Set channel frequency (in Hz)</div><div class="line">register             Get/Set value(s) of registers of sx127x</div><div class="line">send                 Send raw payload string</div><div class="line">listen               Start raw payload listener</div><div class="line">reboot               Reboot the node</div><div class="line">ps                   Prints information about running threads.</div></div><!-- fragment --><p>Once the board is booted, use <code>setup</code> to configure the basic LoRa settings:</p><ul>
<li>Bandwidth: 125kHz, 250kHz or 500kHz</li>
<li>Spreading factor: between 7 and 12</li>
<li>Code rate: between 5 and 8</li>
</ul>
<p>Example: </p><div class="fragment"><div class="line">&gt; setup 125 12 5</div><div class="line">setup: setting 125KHz bandwidth</div><div class="line">[Info] setup: configuration set with success</div></div><!-- fragment --><p>All values are supported by both SX1272 and SX1276.</p>
<p>The <code>random</code> command use the Semtech to generate a random integer value.</p>
<p>Example: </p><div class="fragment"><div class="line">&gt; random</div><div class="line">random: number from sx127x: 2339536315</div><div class="line">&gt; random</div><div class="line">random: number from sx127x: 863363442</div></div><!-- fragment --><p>The <code>channel</code> command allows to change/query the RF frequency channel. The default is 868MHz for Europe, change to 915MHz for America. The frequency is given/returned in Hz.</p>
<p>Example: </p><div class="fragment"><div class="line">&gt; channel set 868000000</div><div class="line">New channel set</div><div class="line">&gt; channel get</div><div class="line">Channel: 868000000</div></div><!-- fragment --><p>The <code>register</code> command allows to get/set the content of the module registers. Example: </p><div class="fragment"><div class="line">&gt; register get all</div><div class="line">- listing all registers -</div><div class="line">Reg   0  1  2  3  4  5  6  7  8  9  A  B  C  D  E  F</div><div class="line">0x00 00 80 1A 0B 00 52 D9 00 00 0F 08 2B 00 4D 80 00</div><div class="line">0x10 00 FF 00 00 00 00 00 00 00 00 00 00 00 72 C4 0A</div><div class="line">0x20 00 08 01 FF 00 00 08 00 00 00 00 00 00 50 14 40</div><div class="line">0x30 00 03 05 67 1C 0A 00 0A 42 12 64 19 01 A1 00 00</div><div class="line">0x40 00 10 22 13 0E 5B DB 24 0E 81 3A 2E 00 03 00 00</div><div class="line">0x50 00 00 04 23 01 24 3F B0 09 05 84 0B D0 0B D0 32</div><div class="line">0x60 2B 14 00 00 10 00 00 00 0F E0 00 0C F6 10 1D 07</div><div class="line">0x70 00 5C 00 00 00 00 00 00 00 00 00 00 00 00 00 00</div><div class="line">- done -</div></div><!-- fragment --><p>Use the <code>send</code> and <code>receive</code> commands in order to exchange messages between several modules. You need first to ensure that all modules are configured the same: use <code>setup</code> and <code>channel</code> commands to configure them correctly.</p>
<p>Assuming you have 2 modules, one listening and one sending messages, do the following:</p><ul>
<li>On listening module: <div class="fragment"><div class="line">&gt; setup 125 12 5</div><div class="line">setup: setting 125KHz bandwidth</div><div class="line">[Info] setup: configuration set with success</div><div class="line">&gt; channel set 868000000</div><div class="line">New channel set</div><div class="line">&gt; listen</div><div class="line">Listen mode set</div></div><!-- fragment --></li>
<li>On sending module: <div class="fragment"><div class="line">&gt; setup 125 12 5</div><div class="line">setup: setting 125KHz bandwidth</div><div class="line">[Info] setup: configuration set with success</div><div class="line">&gt; channel set 868000000</div><div class="line">New channel set</div><div class="line">&gt; send This\ is\ RIOT!</div></div><!-- fragment --></li>
</ul>
<p>On the listening module, the message is captured: </p><div class="fragment"><div class="line">{Payload: &quot;This is RIOT!&quot; (13 bytes), RSSI: 103, SNR: 240}</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
